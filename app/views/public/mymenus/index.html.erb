<div class = "public_mymenu_new_and_index">

  <h5>メニュー登録/一覧</h5>

  <div class = "public_mymenu_new_form">

    <%= form_with model: [@mystore, @mymenu], url: mystore_mymenus_path(@mystore.id) do |mymenu| %>

      <div class = "mb-4">
        <div class = "field">
          <div class = "public_mymenu_new_label">
            <%= mymenu.label :menu_image, "メニュー画像" %>
          </div>
          <div class = "public_mymenu_new_file_field">
            <%= mymenu.file_field :menu_image, accept: "image/*" %>
          </div>
        </div>
      </div>

      <div class = "mb-4">
        <div class = "field">
          <div class = "public_mymenu_new_label">
            <%= mymenu.label :name, "メニュー名：" %>
            &emsp;&ensp;
            <span class = "cautionary_note">必須</span>
          </div>
          <div class = "public_mymenu_new_text_field">
            <%= mymenu.text_field :name, placeholder: "メニュー名を入力してください", class: "form-control" %>
          </div>
        </div>
        <div class = "mt-2">
          <!-- name_error -->
          <%= render 'layouts/error_message', model: @mymenu, column: :name %>
        </div>
      </div>

      <div class = "mb-4">
        <div class = "field">
          <div class = "public_mymenu_new_label">
            <%= mymenu.label :price, "値段(税抜)：" %>
            &emsp;&ensp;
            <span class = "cautionary_note">必須</span>
          </div>
          <div class = "public_mymenu_new_text_field">
            <%= mymenu.text_field :price, placeholder: "価格(税抜)を入力してください", class: "form-control" %>
          </div>
        </div>
        <div class = "mt-2">
          <!-- price_error -->
          <%= render 'layouts/error_message', model: @mymenu, column: :price %>
        </div>
      </div>

      <div class = "actions mb-5">
        <%= mymenu.submit "新規登録", class: "btn btn-success public_mymenu_create_button" %>
      </div>

    <% end %>

  </div>



</div>

























<%= link_to 'メニュー全削除', destroy_all_mymenus_path(@mystore.id), method: :delete %>

<table class = "table">
  <thead>
    <tr>
      <th>No</th>
      <th>商品画像</th>
      <th>メニュー名</th>
      <th>価格（税抜）</th>
      <th></th>
    </tr>
  </thead>

  <% @mymenus.each do |mymenu| %>
    <tbody>
      <tr>
        <td><%= @number %></td>
        <td><%= image_tag mymenu.get_menu_image("150x150!") %></td>
        <td><%= mymenu.name %></td>
        <td><%= mymenu.price %></td>
        <td>
          <%= link_to '編集する', edit_mystore_mymenu_path(@mystore.id, mymenu.id) %>
          <%= link_to '削除する', mystore_mymenu_path(@mystore.id, mymenu.id), method: :delete %>
        </td>
      </tr>
    </tbody>
    <% @number += 1 %>
  <% end %>

</table>
